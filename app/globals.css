@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                 'Microsoft YaHei', '微软雅黑', 'PingFang SC', 'Hiragino Sans GB', 
                 'Heiti SC', sans-serif;
  }
}

/* 全局样式 */
@layer base {
  body {
    @apply bg-[#F3F2EE] text-ink;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.3'/%3E%3C/svg%3E"),
      linear-gradient(#f3f2ee 2px, transparent 2px),
      linear-gradient(90deg, #f3f2ee 2px, transparent 2px),
      linear-gradient(rgba(188, 170, 164, 0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba(188, 170, 164, 0.05) 1px, transparent 1px);
    background-size: 200px 200px, 100px 100px, 100px 100px, 20px 20px, 20px 20px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    @apply border-sand;
  }
}

/* 自定义滚动条 */
@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* 自定义滚动条样式 */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-sand/20 rounded-full;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-clay/40 rounded-full hover:bg-clay/60;
  }
}

/* 动画 */
@layer utilities {
  .fade-in {
    animation: fadeIn 0.5s ease-out forwards;
    opacity: 0;
    transform: translateY(10px);
  }

  .fade-up {
    animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  .scale-in {
    animation: scaleIn 0.2s ease-out forwards;
    transform: scale(0.95);
    opacity: 0;
  }

  .slide-down {
    animation: slideDown 0.3s ease-out forwards;
    transform: translateY(-20px);
    opacity: 0;
  }

  @keyframes fadeIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes slideDown {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* 玻璃拟态效果 */
@layer components {
  .glass-panel {
    @apply bg-paper/85 backdrop-blur-xl border border-white/60 shadow-[0_4px_30px_rgba(0,0,0,0.03)];
  }

  .glass-morphism {
    @apply bg-white/70 backdrop-blur-[10px] border border-white/30;
  }
}

/* 分隔线 */
@layer components {
  .separator-line {
    @apply h-px bg-gradient-to-r from-transparent via-clay to-transparent my-6 opacity-50;
  }
}

/* 复古滤镜 */
@layer utilities {
  .vintage-filter {
    filter: sepia(12%) contrast(95%) saturate(85%) brightness(102%);
  }

  .group:hover .vintage-filter {
    filter: sepia(5%) contrast(100%) saturate(95%) brightness(100%);
  }
}

/* 瀑布流布局 */
@layer utilities {
  .masonry-grid {
    column-count: 2;
    column-gap: 1rem;
  }

  @media (min-width: 768px) {
    .masonry-grid {
      column-count: 3;
      column-gap: 2rem;
    }
  }

  @media (min-width: 1280px) {
    .masonry-grid {
      column-count: 4;
      column-gap: 2.5rem;
    }
  }

  .masonry-item {
    break-inside: avoid;
    margin-bottom: 1.5rem;
  }
}

/* 移动端安全区域 */
@layer utilities {
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* 新闻标题装饰线 */
@layer components {
  .news-header::after {
    content: '';
    display: block;
    width: 60px;
    height: 3px;
    background-color: #bcaaa4;
    margin: 0.5rem auto 0;
    border-radius: 2px;
  }
}
